@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* ====== Подключение кастомных шрифтов ====== */
/*
  Мы подключаем три варианта семейства Gotham Pro для разных начертаний
  (жирное, среднее и лёгкое). Эти файлы лежат в папке `public/fonts` и
  включены в сборку. Свойство `font-display: swap` позволяет сначала
  отрисовать текст системным шрифтом, а затем заменить его на кастомный,
  когда он будет загружен, что улучшает восприятие при медленном интернете.
*/
@font-face {
  font-family: "Gotham Pro";
  font-weight: 700;
  font-style: normal;
  font-display: swap;
  src: url("/fonts/GothamPro-Bold.woff2") format("woff2");
}
@font-face {
  font-family: "Gotham Pro";
  font-weight: 500;
  font-style: normal;
  font-display: swap;
  src: url("/fonts/GothamPro-Medium.woff2") format("woff2");
}
@font-face {
  font-family: "Gotham Pro";
  font-weight: 300;
  font-style: normal;
  font-display: swap;
  src: url("/fonts/GothamPro-Light.woff2") format("woff2");
}

/* ====== Цветовые токены ====== */
:root{
  --bg:#0f0e0c;
  --panel:#1b1916;
  --accent:#c99a40;
  --accent2:#8b6b2a;
  --edge:#2a2824;
  --text:#f2e9d0;
  --muted:#c8b890;
  --rexant:#e31b23;
}

/* ====== База ====== */
body{
  background:#0b0a08;
  color:var(--text);
  /* Используем локально подключённый беззарубежный шрифт Gotham Pro с запасными семействами */
  font-family: "Gotham Pro", "Cinzel", serif;
}

/* ====== Декор (если где-то используется старый вариант) ====== */
.gear{
  position:absolute;
  border-radius:9999px;
  border:8px solid var(--accent2);
  box-shadow:inset 0 0 24px rgba(0,0,0,.6), inset 0 0 4px rgba(255,255,255,.08);
}
.gear--big{width:260px;height:260px;right:-60px;top:-60px}
.gear--mid{width:160px;height:160px;right:60px;top:90px;border-color:var(--accent)}
.gear--sm{width:100px;height:100px;right:150px;top:140px}

/* ====== Окантовка кадра ====== */
.frame-bezel{position:absolute;inset:0;pointer-events:none}
.frame-bezel::before{
  content:"";
  position:absolute;inset:10px;
  border:2px solid rgba(201,154,64,.35);
  box-shadow:inset 0 0 18px rgba(201,154,64,.16);
  border-radius:14px;
}

/* ====== Формы ====== */
.input{
  width:100%;
  background:#0f0d0b;
  color:var(--text);
  border:1px solid #3a332a;
  border-radius:10px;
  padding:12px;
}
.input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(201,154,64,.18);
}

/* Кнопки */
.btn{
  appearance:none;border:none;cursor:pointer;
  background:linear-gradient(180deg,var(--rexant),#b7151b);
  color:#fff;padding:12px 18px;border-radius:12px;
  font-weight:700;letter-spacing:.4px;
  box-shadow:0 8px 22px rgba(227,27,35,.28), inset 0 0 0 1px rgba(255,255,255,.2);
}
.btn--ghost{
  background:linear-gradient(180deg,#1c1916,#14120f);
  color:var(--text);border:1px solid var(--accent2);
}

/* Статусы */
.status{font-size:13px;color:var(--muted)}
.status.ok{color:#5fd38d}
.status.err{color:#f1544f}

/*
  По умолчанию Tailwind предоставляет анимацию вращения через класс
  `.animate-spin`, который использует ключевые кадры `@keyframes spin`.
  Однако в нашем коде мы напрямую назначаем свойство `animation: "spin ..."`,
  поэтому явно определяем ключевые кадры `spin` здесь. Это гарантирует,
  что вращение шестерёнок будет работать даже без загрузки базовых стилей.
*/
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ====== Утилиты движка и декора (Tailwind @layer utilities) ====== */
@layer utilities {
  /* Вращение шестерёнок */
  @keyframes spin-slow   { to { transform: rotate(360deg); } }
  @keyframes spin-slower { to { transform: rotate(-360deg); } }

  /* Плавание элементов (легкий вертикальный дрейф) */
  @keyframes float-slow {
    0% { transform: translateY(0) }
    50% { transform: translateY(-4px) }
    100% { transform: translateY(0) }
  }

  /* Паровые «пшики» */
  @keyframes steam-pulse {
    0% { opacity: 0.0; transform: translateY(8px) scale(0.95); }
    50% { opacity: 0.35; }
    100% { opacity: 0; transform: translateY(-22px) scale(1.1); }
  }

  .animate-spin-slow   { animation: spin-slow 28s linear infinite; }
  .animate-spin-slower { animation: spin-slower 18s linear infinite; }
  .animate-float-slow  { animation: float-slow 6s ease-in-out infinite; }
  .animate-steam       { animation: steam-pulse 2.8s ease-in-out infinite; }

  /* Виньетка по краям экрана (можно вешать на обёртку) */
  .vignette::after{
    content:"";
    position:absolute;inset:0;pointer-events:none;
    box-shadow:inset 0 0 160px rgba(0,0,0,.55);
  }

  /* Фоновый «латунный шум». Положи файл в public/assets/brass-noise.webp */
  .bg-brass-noise{
    background-image:url("/assets/brass-noise.webp");
    background-size:cover;background-position:center;
    mix-blend-mode:overlay;opacity:.2;
  }

  /* Уважение настроек пользователей */
  @media (prefers-reduced-motion: reduce) {
    .animate-spin-slow,
    .animate-spin-slower,
    .animate-float-slow,
    .animate-steam { animation: none !important; }
  }
}
